(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(54)},26:function(e,t,a){},27:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),s=a.n(c);a(26);var i=function(){return r.a.createElement("div",{className:"d-flex justify-content-center py-4 bg-primary"},r.a.createElement("h1",{className:"text-center border rounded border-success p-3 bg-white text-success h1"},"IFind"))},o=a(4),l=a(5),u=a(8),h=a(6),m=a(2),d=a(7),p=(a(27),a(16)),f=a.n(p),b=a(19),g=a(17),v=a.n(g),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).plate=a.plate.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"plate",value:function(){for(var e=Object(b.a)(this.props.data.plate),t=[];!isNaN(Number(e[0]));)t.push(e[0]),e.shift();return e=e.reverse(),(t=t.concat(e)).join(" ")}},{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex col-4 p-3"},this.props.data?r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"h1 p-4"},this.plate()),r.a.createElement("img",{width:"100%",src:window.location.origin+"/"+this.props.data.image_path})):r.a.createElement("div",{className:"p-5"},r.a.createElement(v.a,{size:120,spinnerColor:"#0",spinnerWidth:3,visible:!0})))}}]),t}(n.Component),w=a(18),y=a.n(w),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={pictures:[],files:[],uploading:!0,out:[],search:null,searching:!1},a.onDrop=a.onDrop.bind(Object(m.a)(a)),a.next=a.next.bind(Object(m.a)(a)),a.back=a.back.bind(Object(m.a)(a)),a.processImage=a.processImage.bind(Object(m.a)(a)),a.search=a.search.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onDrop",value:function(e){this.setState({pictures:this.state.pictures.concat(e)},function(){var e=[];this.state.pictures.forEach(function(t){var a=URL.createObjectURL(t);e.push(a)}),this.setState({files:this.state.files.concat(e)})}),document.getElementById("next_button").innerText="Continue"}},{key:"processImage",value:function(e){var t=this,a=new FormData;a.set("car_image",e);var n={headers:{"content-type":"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"},onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);console.log(t)}};y.a.post(window.location.origin+"/upload",a,n).then(function(e){var a=e.data;t.state.out.push(a),t.setState({out:t.state.out})})}},{key:"next",value:function(e){var t=this;0==this.state.pictures.length?e.currentTarget.innerText="Please Upload Images First":(this.setState({uploading:!1}),this.state.pictures.forEach(function(e){t.processImage(e)}))}},{key:"back",value:function(){this.setState({uploading:!0,pictures:[],files:[],out:[]})}},{key:"search",value:function(e){var t=this;""!=e.currentTarget.value?this.setState({searching:!0}):this.setState({searching:!1});var a=!1;this.state.out.forEach(function(n,r){n.plate.join(" ")==e.currentTarget.value&&(t.setState({search:r}),a=!0)}),a||this.setState({search:null})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.uploading?r.a.createElement("div",{className:"d-flex p-5 justify-content-center flex-wrap"},r.a.createElement("div",{className:"p-4 col-12 d-flex justify-content-center"},r.a.createElement(f.a,{className:"col-6",withIcon:!0,buttonText:"Choose images",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880}),0==this.state.pictures.length?"":r.a.createElement("div",{className:"col-5 d-flex flex-wrap"},this.state.files.map(function(e,t){return r.a.createElement("div",{key:t,className:"col-4 p-3"},r.a.createElement("img",{alttext:"",width:"100%",src:e}))}))),r.a.createElement("div",{className:"p-3"},r.a.createElement("button",{id:"next_button",onClick:this.next,className:"btn btn-primary"},"Continue"))):r.a.createElement("div",{className:"d-flex flex-wrap col-12"},r.a.createElement("div",{className:"col-12 d-flex p-3 flex-wrap"},r.a.createElement("div",{className:"col-12 p-0 py-3"},"Enter numbers then letters from left to right with a space between each"),r.a.createElement("input",{onChange:this.search,type:"search",className:"rounded border-dark col-4 mr-5",placeholder:"Search for car"})),this.state.pictures.map(function(t,a){if(!e.state.searching||e.state.search==a)return r.a.createElement(E,{key:a,data:e.state.out[a]})}),r.a.createElement("div",{className:"py-3 col-12"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.back},"New Image"))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(i,null),document.getElementById("head")),document.getElementById("root")&&s.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.dcecdad1.chunk.js.map